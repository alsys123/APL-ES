<div class="container">
  <!-- Loading Screen -->
  <!--    <div class="screen active" id="loadingScreen"> -->
    <div class="screen" id="loadingScreen"> 
      <h1>üìù Exam System</h1>
      <div class="spinner"></div>
      <div class="loading-text">Loading questions from ZIP...</div>
    </div>
    
    ```
    
    <div class="screen" id="pickLoaderScreen">
            
      <!-- Title -->
      <h1 id="pickerTitle">Select an Exam</h1>
      
      <!-- Exam Grid -->
      <div id="examGrid">
	
	<!-- Example exam card -->
	<div class="examCard" data-exam="aviation">
	  <img src="images/aviation.jpeg" alt="Aviation Exam" class="examImage">
	  <div class="examLabel">Aviation Exam</div>
	  <button class="examButton">Load Aviation Exam</button>
	</div>
	
	<div class="examCard" data-exam="bridge">
	  <img src="images/bridge.jpeg" alt="Bridge Exam" class="examImage">
	  <div class="examLabel">Bridge Exam</div>
	  <button class="examButton">Load Bridge Exam</button>
	</div>
	
	<div class="examCard" data-exam="cognitive">
	  <img src="images/cognitive.jpeg" alt="Cognitive Exam" class="examImage">
	  <div class="examLabel">Cognitive Exam</div>
	  <button class="examButton">Load Cognitive Exam</button>
	</div>
	
	<div class="examCard" data-exam="driver">
	  <img src="images/driver.jpeg" alt="Driver Exam" class="examImage">
	  <div class="examLabel">Driver Exam</div>
	  <button class="examButton">Load Driver Exam</button>
	</div>
	
	<!-- Custom Exam (last row) -->
	<div class="examCard" data-exam="custom">
	  <img src="images/custom.jpeg" alt="Custom Exam" class="examImage">
	  <div class="examLabel">Load Custom Exam</div>
	  <button class="examButton">Choose File</button>
	  <input type="file" id="customFile" accept=".zip" style="display:none;"
		 onchange="loadCustomZip(this.files[0])">
	  
	</div>
	
      </div>
      
      <!-- Status Console -->
      <pre id="pickerLoaderStatus"></pre>

    </div>

    <!-- PickerLoader Screen
    <div class="screen" id="pickLoaderScreen">
      <h1>Select Exam</h1>
      <select id="examPicker" onchange="handleExamSelect()">
	<option value="">-- Choose an exam --</option>
	<option value="bridge">Bridge</option>
	<option value="pilot">Pilot</option>
	<option value="cognitive">Cognitive</option>
	<option value="auto">Auto</option>
	<option value="custom">Custom (upload)</option>
      </select>
      
      <input type="file" id="customFile" accept=".zip" style="display:none;" onchange="loadCustomZip(this.files[0])">
      <pre id="pickerLoaderStatus"></pre>
      
    </div>
    -->
    
    <!-- Login Screen -->
    <div class="screen" id="loginScreen">
      <h1>üìù APL-ES Leaning & Exam System</h1>
      <h2>Please enter any username.</h2>
      <center><small>This is used for saving and naming the export file. Defaults to "student1"</small></center>
      <br><br>
      <div class="login-form">
        <div class="form-group">
          <label for="username">Username</label>
          <input type="text" id="username" placeholder="Enter your username"
		 autocomplete="username" value="student1" >
        </div>
       <button class="btn" onclick="login()">Login</button>
        <div class="error" id="loginError"></div>
      </div>
    </div>
    
    <!-- Exam Screen -->
    <div class="screen" id="examScreen">
      <button class="logout-btn btn-secondary btn-small" onclick="logout()">Logout</button>

      <div class="navigation" style="justify-content: flex-end;">
        <button class="scroll-btn" onclick="scrollPageBottom()">‚¨áÔ∏è Go to Bottom</button>
      </div>

      <button class="btn btn-secondary btn-small" onclick="toggleJumpGrid()">üìë Show Quick Navigation</button>
      <div id="jumpGridContainer" class="jump-grid" style="display:none">

        <div id="jumpGrid"></div>
      </div>
      <div id="jumpGridContainer" class="jump-grid">

        <div id="jumpGrid"></div>
      </div>

      <div class="exam-header">
        <!-- <h1>CIX Exam for Pilots</h1> -->
      <!--  <h1>Bridge Exam for Learning</h1> -->
	<!--        <h1>Exam System for Learning</h1>  -->
	
	<h1 id="examTitle">Exam System for Learning</h1>

        <div class="exam-info">
          <div class="info-item">
            <div class="info-label">Student</div>
            <div class="info-value" id="studentName">-</div>
          </div>
          <div class="info-item">
            <div class="info-label">Section</div>
            <div class="info-value" id="currentSection">1 of 6</div>
          </div>
          <div class="info-item">
            <div class="info-label">Part</div>
            <div class="info-value" id="currentPart">1 of 10</div>
          </div>
          <div class="info-item">
            <div class="info-label">Progress</div>
            <div class="info-value" id="progressPercent">0%</div>
          </div>

        </div>
        <div class="info-item">
          <div class="info-value" id="currentSectionLabel">Section ??</div>
          <div class="info-value" id="currentPartLabel">Part ??</div>
        </div>

        <div class="navigation">
          <button class="btn btn-secondary" onclick="previousPart()" id="prevBtn">‚Üê Previous</button>
          <button class="btn btn-secondary btn-small" onclick="saveProgress()">üíæ Save</button>
          <button class="btn btn-success btn-small" onclick="checkAnswers()">‚úì Check</button>
          <button class="btn btn-secondary" onclick="nextPart()" id="nextBtn">Next ‚Üí</button>
        </div>


        <div class="progress-bar">
          <div class="progress-fill" id="progressFill" style="width: 0%">0/300</div>
        </div>
      </div>

      <div id="questionsContainer"></div>

      <div class="navigation">
        <button class="btn btn-secondary" onclick="previousPart()" id="prevBtn">‚Üê Previous</button>
        <button class="btn btn-secondary btn-small" onclick="saveProgress()">üíæ Save</button>
        <button class="btn btn-success btn-small" onclick="checkAnswers()">‚úì Check</button>

        <button class="btn btn-secondary btn-small" onclick="triggerImport()">‚¨ÜÔ∏è Import</button>
        <button class="btn btn-secondary btn-small" onclick="exportToZip()">‚¨áÔ∏è Export</button>

        <input type="file" id="importFileInput" accept=".zip" style="display:none" />

        <button class="btn btn-secondary" onclick="nextPart()" id="nextBtn">Next ‚Üí</button>
        <button id="autoCheckBtn" class="btn btn-secondary btn-small off" onclick="toggleAutoCheck()">‚ö™ Auto-Check
          OFF</button>
        <button class="btn btn-success btn-small" onclick="gradeExam()">üìä Grade Exam</button>

      </div>

      <div class="form-group">
        <label for="jumpSection"><strong>Jump to Section & Part</strong></label>
        <select id="jumpSection" onchange="jumpToSectionPart()">
          <option value="">-- Select Section/Part --</option>
        </select>
      </div>


      <div class="navigation" style="justify-content: flex-end;">
        <button class="scroll-btn" onclick="scrollMainTop()">‚¨ÜÔ∏è Go to Top</button>
      </div>


      <!-- Results Modal -->
      <div id="resultsModal" class="modal">
        <div class="modal-content">
          <h2>Answer Check Results</h2>

          <!-- Top scroll button -->
          <div class="navigation" style="justify-content:flex-end;">
            <button class="scroll-btn" onclick="scrollToBottom()">‚¨áÔ∏è Go to Bottom</button>
          </div>

          <div id="resultsContent"></div>

          <!-- Bottom scroll button -->
          <div class="navigation" style="justify-content:flex-end;">
            <button class="scroll-btn" onclick="scrollToTop()">‚¨ÜÔ∏è Go to Top</button>
          </div>

          <button class="btn" onclick="closeResults()">Close</button>
        </div>
      </div>


      <!-- Notification -->
      <div id="notification" class="notification">
        <div id="notificationMessage"></div>
      </div>
    </div>

    <div id="explainModal" class="modal">
      <div class="modal-content">
        <span class="close" onclick="closeExplainModal()">&times;</span>
        <h2 id="modalTitle"></h2>
        <div id="notes-content"></div>

        <!-- Bottom close button -->
        <div class="modal-footer">
          <button class="close-btn" onclick="closeExplainModal()">Close</button>
        </div>
      </div>
    </div>

